<script setup>import { ref, onMounted, onBeforeUnmount, inject } from 'vue';import CreationFlowStep1 from "./CreationFlowStep1.vue";import CreationFlowStep2 from "./CreationFlowStep2.vue";const globalCreationState = inject('globalCreationState');const createMyLogoIsActive = inject('createMyLogoIsActive');// Set initial progress status to 25%const progressStatus = ref(25);// Store the selected industryconst selectedIndustry = ref(null);const selectedLogoStyle = ref(null);// Function to handle industry selection from CreationFlowStep1const handleSelectIndustry = (industry) => {  selectedIndustry.value = industry;};const handleSelectedLogoStyle = (style) => {  selectedLogoStyle.value = style; // Store the selected logo style in the parent};// Function to handle progress updates from the childconst updateProgress = (value) => {  progressStatus.value = value;};// Advance or go back a stepconst advanceStep = () => {  globalCreationState.creationStep += 1;};const previousStep = () => {  if (globalCreationState.creationStep > 1) {    globalCreationState.creationStep -= 1;  }};// Disable back buttonconst disableBackButton = () => {  history.pushState(null, document.title, window.location.href);};// Initialize on mountonMounted(() => {  globalCreationState.creationStep = 1;  createMyLogoIsActive.value = true;  window.addEventListener('popstate', disableBackButton);});// Cleanup on unmountonBeforeUnmount(() => {  window.removeEventListener('popstate', disableBackButton);});</script><template>  <section class="cyborg-creation w-full relative">    <!-- Progress bar -->    <div class="progress-bar absolute block top-0 left-0 right-0 h-[4px] w-full z-[1] border-t-2 border-t-neutral-200">      <div :style="{ width: progressStatus + '%', maxWidth: progressStatus + '%' }" class="progress-bar-line bg-brand-200 h-full transition-all duration-500 absolute w-full left-0 right-0 top-[-2px]"></div>    </div>    <!-- Step Components with Event Listeners -->    <transition-group name="fade">      <creation-flow-step1          v-if="globalCreationState.creationStep === 1"          :key="globalCreationState.creationStep"          :selectedIndustry="selectedIndustry"          @selectIndustry="handleSelectIndustry"          @updateProgress="updateProgress"      />      <creation-flow-step2          v-if="globalCreationState.creationStep === 2"          :key="globalCreationState.creationStep"          :selectedIndustry="selectedIndustry"          :selectedLogoStyle="selectedLogoStyle"          @selectedLogoStyle="handleSelectedLogoStyle"          @updateProgress="updateProgress"      />    </transition-group>    <!-- Buttons for Development (remove before launch) -->    <div class="w-full py-[30px] hidden items-center justify-center">      <button class="bg-black text-white p-[10px]" @click="advanceStep">Next Step</button>      <button class="bg-black text-white p-[10px]" @click="previousStep">Previous Step</button>    </div>  </section></template><style scoped lang="scss">/* we will explain what these classes do next! */.v-enter-active,.v-leave-active {  transition: opacity 0.5s ease;}.v-enter-from,.v-leave-to {  opacity: 0;}.fade-enter-active,.fade-leave-active {  transform: translateY(30px);  transition: opacity 1s ease, transform 1s ease-in-out;}.fade-enter-from,.fade-leave-to {  transform: translateY(30px);  transition: opacity 1s ease, transform 1s ease-in-out;  opacity: 0;}</style>